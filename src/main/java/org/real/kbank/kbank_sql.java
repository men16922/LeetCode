package org.real.kbank;

public class kbank_sql {
    /**
     * 1.
     * BANK_TRANSACTION 테이블은 은행 거래 요청 정보를 담은 테이블입니다. BANK_TRANSACTION 테이블 구조는 다음과 같으며,
     * ID : 요청 ID (기본 키)
     * BRANCH_ID : 은행 지점 ID
     * ACCOUNT_ID : 계좌 ID
     * CREATED_AT : 요청일
     * AMOUNT : 요청금액
     * CATEGORY : 구분(0 : 입금, 1 : 출금)
     *
     *
     * 문제
     * XX은행에서는 요청 금액이 1000000원 이상인 입출금 요청을 의심스러운 요청으로 분류합니다. 계좌 ID와 각 계좌에서 발생한 의심스러운 요청 수를 조회하는 SQL문을 작성해주세요. 의심스러운 요청이 없는 계좌의 ID는 결과에 포함되지 않아야 합니다.
     * 결과는 계좌 ID를 기준으로 오름차순 정렬해주세요.
     *
     * 정답
     * SELECT
     *     ACCOUNT_ID,
     *     COUNT(*) AS SUSPICIOUS_REQUESTS
     * FROM
     *     BANK_TRANSACTION
     * WHERE
     *     AMOUNT >= 1000000
     * GROUP BY
     *     ACCOUNT_ID
     * HAVING
     *     COUNT(*) > 0
     * ORDER BY
     *     ACCOUNT_ID ASC;
     *
     * 2.
     * PURCHASES 테이블은 XX런 게임의 유료 캐릭터 구매내역을 담은 테이블입니다. PURCHASES 테이블의 구조는 다음과 같으며,
     * ID : ID
     * USER_ID : 유저의 ID
     * PURCHASE_DATE : 구매 날짜
     * ITEM : 구입한 캐릭터의 이름
     *
     * GAME_USERS 테이블은 XX런 게임 유저의 정보를 담고 있는 테이블입니다. GAME_USERS의 테이블 구조는 다음과 같으며,
     * ID : 유저 아이디
     * DISTANCE : 최고 기록(미터 단위)
     * TIME_SPENT : 최고 기록 달성시 플레이한 시간
     * BEST_DATE : 최고 기록 경신 날짜
     *
     * 문제
     * 캐릭터를 구매한 횟수에 따라 최고기록 평균이 어떻게 달라지는지 보려고 합니다. 캐릭터를 구매한 횟수가 1이상인 유저들 중에서 각 구매횟수에 대해서 구매 횟수가 같은 사람들의 최고 기록 평균을 조회하는 SQL문을 작성해주세요. 최고 기록 평균은 소수점 첫째 자리에서 반올림하여 정수로 나타냅니다.
     * 결과는 구매 횟수를 기준으로 내림차순 정렬해주세요.
     * SELECT
     *     p.PURCHASE_COUNT,
     *     ROUND(AVG(u.DISTANCE)) AS AVERAGE_BEST_DISTANCE
     * FROM
     *     (SELECT
     *         USER_ID,
     *         COUNT(*) AS PURCHASE_COUNT
     *     FROM
     *         PURCHASES
     *     GROUP BY
     *         USER_ID
     *     HAVING
     *         COUNT(*) > 0) p
     * JOIN
     *     GAME_USERS u ON p.USER_ID = u.ID
     * GROUP BY
     *     p.PURCHASE_COUNT
     * ORDER BY
     *     p.PURCHASE_COUNT DESC;
     */

    /**
     * 1. IP 주소에 대해서 설명해주세요
     *
     * IP 주소는 인터넷 프로토콜 네트워크에서 장치들이 통신하기 위해 사용되는 고유한 주소입니다. IPv4는 32비트로 구성되고, IPv6는 128비트로 구성됩니다. IP 주소를 통해 데이터 패킷은 출발지와 목적지를 식별하여 인터넷 상에서 전송됩니다.
     *
     * 2. TCP / IP
     * TCP/IP는 인터넷과 다른 네트워크에서 사용되는 표준 프로토콜이다. TCP는 데이터 전송을 관리하고 보증하는 역할을 한다. 데이터를 작은 조각인 패킷으로 나누어 전송하고, 전송 중에 손실된 패킷을 재전송하여 안정적인 데이터 전송을 보장한다. IP는 데이터 패킷의 라우팅과 주소 지정을 담당한다. 각 기기에 고유한 IP 주소를 할당하고, 패킷을 목적지로 전달하기 위해 라우팅을 수행한다. TCP/IP는 신뢰성 있는 데이터 통신을 위한 기반을 제공하며, 인터넷과 다양한 시스템 간의 연결성을 지원한다. 이를 통해 안정적인 데이터 전송과 다양한 인터넷 서비스를 가능하게 한다.
     *
     * 3. HTTP와 User-Agent에 대해 설명해줘
     * HTTP는 Hypertext Transfer Protocol의 약자로, 인터넷에서 데이터를 주고받기 위한 프로토콜이다. 주로 웹 브라우저와 웹 서버 간의 통신에 사용되며, 클라이언트가 서버에 요청(Request)을 보내고, 서버는 클라이언트에게 응답(Response)을 전송하는 방식으로 동작한다. HTTP는 기본적으로 요청과 응답의 형식으로 구성되어 있으며, 웹 페이지를 로드하거나 데이터를 전송하는 등 다양한 작업에 사용된다.
     *
     * User-Agent는 HTTP 요청을 보내는 클라이언트(주로 웹 브라우저)의 소프트웨어나 애플리케이션에 대한 식별 정보이다. User-Agent는 요청 헤더에 포함되어 서버에게 클라이언트의 종류와 버전, 운영체제 등의 정보를 제공한다. 이를 통해 서버는 클라이언트의 특성을 파악하고, 적절한 응답을 제공할 수 있다. User-Agent 정보는 웹 서버 로그 분석, 통계 수집, 콘텐츠의 호환성 확인 등 다양한 용도로 활용된다. 또한, User-Agent 정보를 이용해 서버는 클라이언트에게 특정한 동작이나 콘텐츠를 전달할 수도 있다.
     *
     * 4. 사설 IP와 공인 IP
     * 사설 IP와 공인 IP는 IP 주소의 두 가지 유형을 나타내는 용어입니다.
     *
     * 사설 IP (Private IP):
     *
     * 사설 IP 주소는 사설 네트워크에서 사용되는 IP 주소입니다.
     * 사설 IP 주소 범위는 다음과 같습니다: 10.0.0.0 ~ 10.255.255.255, 172.16.0.0 ~ 172.31.255.255, 192.168.0.0 ~ 192.168.255.255.
     * 사설 IP 주소는 개인적인 목적으로 사용되며, 인터넷에서 직접 접근할 수 없습니다.
     * 사설 IP 주소는 가정이나 사무실 내부 네트워크에서 사용되며, 라우터를 통해 공인 IP 주소와 연결되어 인터넷에 접속합니다.
     * 사설 IP 주소는 중복되어 사용될 수 있으며, 이는 NAT(Network Address Translation)라는 기술을 사용하여 인터넷과의 통신이 가능해집니다.
     * 공인 IP (Public IP):
     *
     * 공인 IP 주소는 인터넷에 직접 연결되어 있는 IP 주소입니다.
     * 공인 IP 주소는 전세계에서 유일하며, 인터넷을 통해 다른 네트워크나 장치와 통신할 수 있습니다.
     * 공인 IP 주소는 인터넷 서비스 제공업체(ISP)로부터 할당받으며, 네트워크 트래픽을 관리하고 인터넷에 접속 가능하게 합니다.
     * 공인 IP 주소는 서버 호스팅, 웹 사이트 운영, 원격 액세스 등과 같은 공개적인 목적으로 사용됩니다.
     * 사설 IP 주소는 개인적인 네트워크에서 사용되는 반면, 공인 IP 주소는 인터넷과의 연결을 통해 전체 인터넷에서 접근 가능하도록 하는 주소입니다.
     *
     * 5. NAT
     *
     *
     NAT(Network Address Translation)은 네트워크에서 사용되는 IP 주소를 변환하는 기술입니다. 주로 사설 IP 주소를 공인 IP 주소로 변환하여 인터넷과의 통신을 가능하게 합니다. NAT는 다음과 같은 주요 개념과 기능을 갖고 있습니다:

     사설 IP 주소와 공인 IP 주소:

     사설 IP 주소는 사설 네트워크에서 사용되며 인터넷에서 직접 접근할 수 없습니다.
     공인 IP 주소는 인터넷에 직접 연결되어 다른 네트워크나 장치와 통신할 수 있습니다.
     IP 주소 변환:

     사설 네트워크의 장치가 인터넷에 접속하기 위해 사설 IP 주소를 공인 IP 주소로 변환합니다.
     네트워크의 라우터 또는 NAT 장비가 IP 패킷의 출발지 IP 주소를 변환하여 공인 IP 주소로 바꿉니다.
     IP 주소 변환 방식:

     IP 주소 변환은 주로 다음 두 가지 방식으로 수행됩니다.
     Source NAT (SNAT): 사설 IP 주소를 공인 IP 주소로 변환하여 패킷의 출발지 주소를 바꿉니다.
     Destination NAT (DNAT): 공인 IP 주소를 사설 IP 주소로 변환하여 패킷의 목적지 주소를 바꿉니다.
     포트 주소 변환:

     NAT는 IP 주소뿐만 아니라 포트 번호도 변환할 수 있습니다.
     포트 주소 변환(Port Address Translation, PAT)은 여러 장치가 동일한 공인 IP 주소를 공유하며, 각각의 장치는 다른 포트 번호를 사용하여 통신할 수 있습니다.
     NAT는 IP 주소 부족 문제를 해결하고 사설 네트워크에서 인터넷에 접속하는 기능을 제공합니다. 또한 네트워크 보안 측면에서도 사설 IP 주소를 감추어 외부에서의 직접적인 접근을 어렵게 합니다. NAT는 일반 가정이나 사무실 네트워크에서 널리 사용되며, IPv4 주소의 고갈로 인해 중요한 역할을 수행합니다.

     6. VPN에 대해 설명하세요

     VPN(Virtual Private Network)은 인터넷을 통해 안전하고 비공개로 통신할 수 있는 프라이빗 네트워크를 구축하는 기술입니다. VPN은 다음과 같은 주요 개념과 기능을 갖고 있습니다:

     원격 액세스:

     VPN은 사용자가 원격 위치에서 안전하게 기업 또는 조직의 내부 네트워크에 액세스할 수 있도록 합니다.
     인터넷을 통해 암호화된 터널을 생성하여 원격 사용자가 조직의 리소스에 접근할 수 있게 합니다.
     암호화:

     VPN은 데이터를 암호화하여 보호합니다. 데이터는 터널을 통과하기 전에 암호화되며, 터널에서 다시 해독됩니다.
     이를 통해 외부에서 데이터를 가로채더라도 암호화되어 있어 내용을 이해할 수 없게 됩니다.
     개인 정보 보호:

     VPN은 사용자의 개인 정보를 보호하기 위해 사용됩니다. 인터넷 연결을 암호화하고 IP 주소를 숨기는 등의 보안 기능을 제공합니다.
     공개 Wi-Fi 네트워크 등 보안이 약한 환경에서도 안전하게 통신할 수 있도록 합니다.
     지리적 제약 극복:

     VPN을 사용하면 지리적으로 떨어진 위치에 있는 사용자들도 조직의 네트워크에 연결할 수 있습니다.
     지리적 제약을 극복하고 원격으로 작업하는 팀이나 분산된 조직이 효과적으로 협업할 수 있습니다.
     용도 다양성:

     VPN은 기업에서 원격 액세스 및 분산된 지사와의 안전한 통신을 지원하는데 널리 사용됩니다.
     또한 개인 사용자들도 개인 정보 보호 및 원격 액세스 목적으로 VPN을 사용할 수 있습니다.
     VPN은 안전하고 비공개의 네트워크 환경을 구축하여 데이터의 기밀성과 보안을 보장합니다. 기업과 개인 사용자들은 VPN을 활용하여 인터넷 연결을 안전하게 관리하고 원격으로 접근할 수 있습니다.
     */
}
